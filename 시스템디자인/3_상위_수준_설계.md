## 3단계 : 상위 수준 설계

요구사항과 예상 용량을 고려하고 나서는 본격적으로 시스템의 상위 수준(=큰 그림) 아키텍쳐 설계를 시작한다. 먼저, 프론트엔드, 백엔드, 데이터베이스, 캐시 및 외부 서비스와 같은 주요 구성 요소 또는 모듈로 시스템을 큰 단위에서 분류한다.

클라이언트에서 백엔드를 거쳐 다시 클라이언트로 돌아오는 데이터와 요청의 상위 수준 흐름과 주요 시스템 구성 요소를 개략적으로 설명하는 간단한 블록 다이어그램을 그려본다. 

![image](https://github.com/user-attachments/assets/d6d2ad49-b924-4520-93e2-a324b1342897)

<br>

### 다이어그램에 포함할 내용

- **클라이언트 애플리케이션** : 사용자가 시스템과 상호 작용하는 방식(웹 브라우저, 모바일 앱, 데스크톱 애플리케이션 등)을 나타낸다.
- **웹 서버** : 클라이언트로부터 들어오는 요청을 처리하는 서버이다.
- **로드 밸런서** : 상당한 트래픽을 처리하기 위해 트래픽을 서버에 고르게 분산하는 데 사용된다.
- **애플리케이션 서비스** : 시스템의 핵심 기능이 구현되는 백엔드 로직 계층이다.
- **데이터베이스** : 데이터베이스 유형을 지정한다. SQL vs. NoSQL, 그리고 이유를 간략히 설명한다.
- **캐싱 계층** : 데이터베이스에 대한 부하를 줄이기 위해 사용하는 경우 캐싱(예 : Redis, Memcached)을 지정한다.
- **메시지 큐** : 비동기 통신을 사용하는 경우
- **외부 서비스** : 시스템이 서드파티 API(예 : 결제 게이트웨이)에 의존하는 경우 포함한다.

> 모든 구성 요소에 대해 반드시 트레이드오프를 고려하고 특정 기술이나 아키텍처를 선택한 이유를 정당화해야 한다. (예 : “강력한 일관성이 필요하므로 관계형 데이터베이스(RDB)가 적합하다”)
> 

<br>

### 상위 수준 다이어그램 작성 시 유의 사항

- 단순하고 깔끔하게 유지한다.
- 적절한 표기법과 기호를 사용하여 구성 요소, 구성 요소 간의 상호 작용 및 데이터 흐름을 나타내는 게 좋다.
- 다양한 유형의 구성 요소나 상호 작용을 구분하기 위해 서로 다른 색상, 선 스타일 또는 기호를 사용한다.
- 구성 요소를 나타내는 간단한 상자와 방향성 데이터 흐름을 보여주는 화살표를 사용한다.
- 입력에서 저장 및 검색까지 데이터가 시스템을 통해 어떻게 흐르는지 화살표를 사용하여 보여준다.
- 너무 많은 세부 정보나 불필요한 요소로 다이어그램을 복잡하게 만들지 않는다.
- 사소한 세부 사항에 대해 너무 깊이 생각하지 않는다. 이것은 큰 그림에 관한 것이다.